{"version":3,"file":"static/js/435.7ac7b22f.chunk.js","mappings":"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","sources":["routes/MovieDetails.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport { AiFillStar, AiFillPlusSquare, AiFillMinusSquare } from 'react-icons/ai';\r\nimport { BiArrowBack } from 'react-icons/bi';\r\n\r\nconst MovieDetails = ({ isMobile }) => {\r\n  const [isReviewOpen, setIsReviewOpen] = useState(false);\r\n  const [isCastOpen, setIsCastOpen] = useState(false);\r\n  const [movieDetails, setMovieDetails] = useState();\r\n  const [movieCast, setMovieCast] = useState();\r\n  const [movieReviews, setMovieReviews] = useState();\r\n  const [myRating, setMyRating] = useState();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const movieId = location.pathname.split('/').pop();\r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n      fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=34148456b4f3b196a104527b50e6d0cf`).then(res => res.json()),\r\n      fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=34148456b4f3b196a104527b50e6d0cf`).then(res => res.json()),\r\n      fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=34148456b4f3b196a104527b50e6d0cf`).then(res => res.json()),\r\n      fetch('https://filmereviews.vercel.app/api/reviews/find', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({  \r\n          filter: {\r\n            movieId: movieId\r\n          }\r\n        })\r\n      }).then(res => res.json())\r\n    ])\r\n    .then(([movieDetails, cast, reviews, myRating]) => {\r\n      setMovieDetails(movieDetails);\r\n      setMovieCast(cast);\r\n      setMovieReviews(reviews.results);\r\n      setMyRating(myRating);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n\r\n    if(!isMobile) {\r\n      setIsCastOpen(true);\r\n      setIsReviewOpen(true);\r\n    }\r\n  }, [location, movieId, isMobile]);\r\n\r\n  const handleOpenReviews = () => {\r\n    setIsReviewOpen(!isReviewOpen);\r\n  }\r\n\r\n  const handleOpenCast = () => {\r\n    setIsCastOpen(!isCastOpen);\r\n  }\r\n  \r\n  return (\r\n    <div id=\"movieDetails\" className='w-full h-full font-main md:py-8 xl:py-12 md:px-6 xl:px-12 relative'>\r\n      <button onClick={() => navigate(-1)} className=\"absolute base:top-4 base:left-[unset] lg:left-6 base:right-3 lg:right-[unset] block h-12 w-12 z-50 text-white\">\r\n        <BiArrowBack id=\"backButton\" />\r\n      </button>\r\n      \r\n      <div id=\"content\" className=\"flex flex-col justify-center items-start mb-4 py-4 base:pt-14 md:pt-10 lg:pt-4 md:px-0 xl:px-10 relative w-full h-full overflow-hidden\">\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"w-full h-full\"\r\n        >\r\n          <div className=\"relative flex base:flex-col md:flex-row base:items-start justify-between w-full h-full mb-8\">\r\n            <div id=\"titleAndGeneralInfo\" className=\"base:mb-6 md:mb-0 base:px-8 sm:px-10 md:px-0\">\r\n              <h1 id=\"movieTitle\" className=\"base:text-3xl xl:text-4xl text-white font-bold base:mb-1 md:mb-3 drop-shadow-md base:text-right md:text-left\">{movieDetails?.title}</h1>\r\n              <div id=\"movieGeneralInfo\" className=\"block relative\">\r\n                <div id=\"moreDetails\" className=\"flex base:justify-start items-center gap-4 w-full\"> \r\n                  <span id=\"releaseYear\" className=\"inline-block text-sm text-gray-300 font-bold opacity-80 drop-shadow-md base:text-right md:text-left\">\r\n                    {new Date(movieDetails?.release_date).getFullYear()}\r\n                  </span>\r\n                  <span className=\"divider inline-block text-gray-300\">|</span>\r\n                  <span id=\"releaseYear\" className=\"inline-block text-sm text-gray-300 font-bold opacity-80 drop-shadow-md base:text-right md:text-left\">\r\n                    {movieDetails?.runtime} mins\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"avaliations\" className=\"flex justify-center items-center gap-12 base:px-8 sm:px-10 md:px-0\">\r\n              <div className=\"usersRating flex flex-col justify-center items-center\">\r\n                <span className=\"inline-block text-md text-gray-300 font-bold opacity-80 drop-shadow-md\">IMBD Rating</span>\r\n                <div className=\"flex justify-start items-center\">\r\n                  <AiFillStar size=\"1.5em\" className=\"text-yellow-500 drop-shadow-md mr-3\" />\r\n                  <div className=\"rate\">\r\n                    <span className=\"text-lg text-white font-bold mr-1\">{movieDetails?.vote_average.toFixed(2)}</span>\r\n                    <span className=\"text-md text-gray-300 font-bold opacity-80 drop-shadow-md\">/ 10</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"yourReview flex flex-col justify-center items-center\">\r\n                <span className=\"inline-block text-md text-gray-300 font-bold opacity-80 drop-shadow-md\">Your rating</span>\r\n                <div className=\"flex justify-start items-center \">\r\n                  {\r\n                    myRating && myRating.length > 0 ?\r\n                    <>\r\n                      <div className=\"rate\">\r\n                        <span className=\"text-lg text-white font-bold mr-1\">{myRating.avaliation}</span>\r\n                        <span className=\"text-md text-gray-300 font-bold opacity-80 drop-shadow-md\">/ 10</span>\r\n                      </div> \r\n                    </> :\r\n                    <>\r\n                      <Link id=\"writeReview\" to={\"/review/\" + movieId} className=\"flex items-center gap-2 text-lg text-white font-bold mr-1\">\r\n                        <AiFillStar size=\"1.5em\" className=\"text-yellow-500\" /> Rate\r\n                      </Link>\r\n                    </>\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"movieMainInfo\" className=\"flex base:flex-col md:flex-row justify-start items-start md:gap-12 2xl:gap-20\">\r\n            <div className=\"flex justify-start items-center flex-col base:w-full md:w-[280px] lg:w-[300px] xl:w-[380px]\">\r\n              <div id=\"moviePoster\" className=\"block relative base:h-[500px] md:h-[350px] xl:h-[400px] 2xl:h-[500px] base:w-[90%] md:w-[270px] xl:w-[300px] 2xl:w-[350px] transition-all mb-4\">\r\n                <LazyLoadImage\r\n                  className=\"object-cover h-full w-full relative transition-all\"\r\n                  src={'https://image.tmdb.org/t/p/w500/' + movieDetails?.poster_path}\r\n                  height={500}\r\n                  alt=\"movie_poster\"\r\n                />\r\n              </div>\r\n              <div id=\"movieGenres\" className=\"flex justify-center items-center gap-4 mb-12\">\r\n                {\r\n                  movieDetails?.genres?.map((genre, key) => {\r\n                    return <Link to={\"/genre/\" + genre.id} key={key} className=\"text-xs text-white py-1 px-2 border border-white rounded-full hover:bg-white hover:text-darkGray transition-all font-bold\">{genre.name}</Link>\r\n                  })\r\n                }\r\n              </div>\r\n              <div id=\"movieReviews\" className=\"block base:w-[90%] md:w-full relative\">\r\n                <h3 className=\"text-xl text-white drop-shadow-md font-semibold mb-8\">\r\n                  Reviews\r\n                </h3>\r\n                {\r\n                  isMobile ?\r\n                  <div id=\"openReviews\" className=\"h-6 w-6 absolute top-0 right-2 text-white transition-all\" onClick={handleOpenReviews} >\r\n                    { !isReviewOpen ? <AiFillPlusSquare size=\"2em\" /> : <AiFillMinusSquare size=\"2em\" /> }\r\n                  </div> :\r\n                  ''\r\n                }\r\n                <div id=\"reviewsContainer\" className={`flex flex-col justify-start items-start gap-8 base:w-[90%] md:w-full ${isReviewOpen ? 'h-full' : 'h-[0px]'} overflow-hidden relative transition-all`}>\r\n                  {\r\n                    movieReviews?.length > 0 ? \r\n                      movieReviews?.map((review, key) => {\r\n                        return (\r\n                          <a key={key} rel=\"noreferrer\" target=\"_blank\" href={review.url} className=\"block relative w-full\">\r\n                            <div className=\"authorProfile relative flex justify-start items-start gap-4 w-full\">\r\n                              <div className=\"block mr-3\">\r\n                                <div className=\"authorPic h-16 w-16 overflow-hidden relative block text-left mb-2\">\r\n                                  <img src={\"https://secure.gravatar.com/avatar/\" + review.author_details.avatar_path} alt=\"authorPic\" className=\"h-full w-full object-contain\" />\r\n                                </div>\r\n                                <span className=\"text-xs text-white font-bold block drop-shadow-md\">{review.author_details.name || \"User\"}</span>\r\n                              </div>\r\n                              <div className=\"text-gray-300 text-sm font-medium drop-shadow-md block text-left line-clamp-5\">\r\n                                {review.content}\r\n                              </div>\r\n                            </div>\r\n                          </a>\r\n                        )\r\n                      }) :\r\n                    <span className=\"text-md font-medium text-gray-300 drop-shadow-md\">\r\n                      There's no reviews of this movie...\r\n                    </span>\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n              \r\n            <div className=\"flex justify-start items-start flex-col base:max-w-[90%] lg:max-w-[85%] xl:max-w-[60%] mx-[auto]\">\r\n              {\r\n                movieDetails?.tagline ? <span id=\"movieTagline\" className=\"text-2xl text-gray-300 opacity-70 font-bold drop-shadow-md mb-10 text-justify\">\r\n                  \"{movieDetails.tagline}\"\r\n                </span> : ''\r\n              }\r\n              <div id=\"movieOverview\" className=\"block mb-10\">\r\n                <h3 className=\"text-xl text-white drop-shadow-md font-semibold mb-3\">\r\n                  Overview\r\n                </h3>\r\n                <span className=\"text-lg text-gray-300 drop-shadow-md font-medium\">\r\n                  {movieDetails?.overview}\r\n                </span>\r\n              </div>\r\n              <div id=\"movieCast\" className='block relative'>\r\n                <h3 className=\"text-xl text-white drop-shadow-md font-semibold mb-8\">\r\n                  Cast\r\n                </h3>\r\n                {\r\n                  isMobile ?\r\n                  <div id=\"openCast\" className=\"h-6 w-6 absolute top-0 right-2 text-white transition-all\" onClick={handleOpenCast} >\r\n                    { !isCastOpen ? <AiFillPlusSquare size=\"2em\" /> : <AiFillMinusSquare size=\"2em\" /> }\r\n                  </div> :\r\n                  ''\r\n                }\r\n                <div id=\"cast\" className={`flex justify-start items-center flex-wrap w-full md:gap-3 xl:gap-6 ${isCastOpen ? 'h-full' : 'h-[0px]'} overflow-hidden`}>\r\n                  {\r\n                    movieCast?.cast?.map((actor, key) => {\r\n                      return (\r\n                        key <= 20 ?\r\n                        <div key={key} className=\"actor base:w-[95%] md:w-[45%] xl:w-[30%] 2xl:w-[22%] base:h-[auto] md:h-[330px] flex flex-col justify-center items-start base:mb-6 md:mb-0\">\r\n                          <LazyLoadImage\r\n                            className=\"base:object-contain md:object-cover h-full w-full relative transition-all\"\r\n                            src={'https://image.tmdb.org/t/p/w400/' + actor.profile_path}\r\n                            height={300}\r\n                            alt=\"actor_profile_pic\"\r\n                          />\r\n                          <h4 className=\"text-md font-bold drop-shadow-md text-white mt-2\">\r\n                            {actor.name}\r\n                          </h4>\r\n                        </div> :\r\n                        ''\r\n                      )\r\n                    })\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieDetails;"],"names":["isMobile","useState","isReviewOpen","setIsReviewOpen","isCastOpen","setIsCastOpen","movieDetails","setMovieDetails","movieCast","setMovieCast","movieReviews","setMovieReviews","myRating","setMyRating","location","useLocation","navigate","useNavigate","movieId","pathname","split","pop","useEffect","Promise","all","fetch","then","res","json","method","headers","body","JSON","stringify","filter","cast","reviews","results","catch","err","console","log","id","className","onClick","initial","opacity","animate","transition","duration","title","Date","release_date","getFullYear","runtime","size","vote_average","toFixed","length","avaliation","to","LazyLoadImage","src","poster_path","height","alt","genres","map","genre","key","name","review","rel","target","href","url","author_details","avatar_path","content","tagline","overview","actor","profile_path"],"sourceRoot":""}